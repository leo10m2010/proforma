<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Proforma — Tato</title>
  <style>
    :root {
      --primary: #0f172a;
      --accent: #c6a769;
      --muted: #64748b;
      --border: #e5e7eb;
      --bg: #ffffff;
      --shadow: 0 8px 24px rgba(15, 23, 42, 0.08);
    }

    @page {
      size: A4;
      margin: 10mm;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color: var(--primary);
      background: var(--bg);
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .page {
      width: 100%;
      max-width: 210mm;
      margin: auto;
      padding: 18px;
      background: #fff;
      border-radius: 12px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--border);
      padding-bottom: 8px;
      margin-bottom: 8px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand picture.logo, .brand img#logo {
      height: 50px;
      width: auto;
      display: block;
    }

    .brand h1 { font-size: 22px; margin: 0; }

    .titlebox { text-align: right; }
    .titlebox h2 { margin: 0; font-size: 20px; text-transform: uppercase; }
    .badge { background: var(--accent); color: #fff; padding: 3px 8px; border-radius: 20px; font-size: 11px; }

    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .panel { border: 1px solid var(--border); border-radius: 8px; padding: 10px; }
    .kv { display: grid; grid-template-columns: 110px 1fr; font-size: 13px; row-gap: 4px; }

    .section-title { margin: 14px 0 6px; font-size: 14px; color: var(--muted); text-transform: uppercase; }

    table { width: 100%; border-collapse: collapse; font-size: 13px; }
    th, td { padding: 8px; border-bottom: 1px solid var(--border); vertical-align: top; }
    th { text-transform: uppercase; font-size: 11px; color: var(--muted); }
    .price { text-align: right; font-weight: 700; }

    .incl { font-size: 12px; color: var(--muted); line-height: 1.4; }

    .cards { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px; }
    .card { border: 1px solid var(--border); border-radius: 8px; padding: 8px; font-size: 12px; }
    .card h4 { margin: 0 0 4px; font-size: 13px; }

    .totals { display: flex; justify-content: space-between; margin-top: 8px; font-size: 12px; }

    .cta { margin-top: 10px; border: 1px dashed var(--border); border-radius: 8px; padding: 8px; font-size: 13px; display: flex; justify-content: space-between; align-items: center; }
    .cta a { text-decoration: none; font-weight: 600; color: #fff; background: var(--primary); padding: 6px 10px; border-radius: 20px; font-size: 12px; }

    footer { border-top: 1px solid var(--border); margin-top: 12px; padding-top: 6px; font-size: 11px; color: var(--muted); display: flex; justify-content: space-between; }

    .actions { display: flex; gap: 6px; margin-top: 8px; }
    .btn { padding: 6px 10px; border: 1px solid var(--border); border-radius: 6px; font-size: 12px; cursor: pointer; }
    .btn--primary { background: var(--primary); color: #fff; }

    @media print {
      .page { border: none; box-shadow: none; margin: 0; padding: 0; }
      .actions, .btn, .cta a { display: none !important; }
    }
  </style>
</head>
<body>
  <div class="page" id="doc">
    <header>
      <div class="brand">
        <picture class="logo">
          <source type="image/webp" srcset="https://res.cloudinary.com/renatoez/image/upload/v1755882448/Untitled_qmza6o.svg" />
          <img id="logo" alt="Logo Tato" decoding="async" loading="eager" src="https://res.cloudinary.com/renatoez/image/upload/v1755882448/Untitled_qmza6o.svg" />
        </picture>
        <div>
          <small>Soluciones Web Profesionales</small>
        </div>
      </div>
      <div class="titlebox">
        <h2>Proforma</h2>
        <span class="badge">Documento no fiscal</span>
      </div>
    </header>

    <section class="grid-2">
      <div class="panel">
        <h3>Datos de la Proforma</h3>
        <div class="kv">
          <strong>Nº Proforma</strong><span id="pf-number">PRO-2025-001</span>
          <strong>Fecha</strong><span id="pf-date">—</span>
          <strong>Validez</strong><span>15 días calendario</span>
        </div>
      </div>
      <div class="panel">
        <h3>Datos del Cliente</h3>
        <div class="kv">
          <strong>Cliente</strong><span contenteditable="true">[Nombre / Empresa]</span>
          <strong>Contacto</strong><span contenteditable="true">[Correo] · [Tel/WhatsApp]</span>
          <strong>RUC / ID</strong><span contenteditable="true">[Opcional]</span>
        </div>
      </div>
    </section>

    <h3 class="section-title">Opciones de desarrollo web</h3>
    <table>
      <thead>
        <tr>
          <th>Opción</th>
          <th>Descripción</th>
          <th class="price">Precio (S/)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Opción 1 — WordPress</td>
          <td class="incl">• Diseño personalizado y responsive.<br>• Integración de <strong>formulario de recepción</strong> vinculado a cuestionario de Facebook.<br>• <strong>Call to Action a WhatsApp</strong>.<br>• Capacitación básica.</td>
          <td class="price">2,000.00</td>
        </tr>
        <tr>
          <td>Opción 2 — Next.js</td>
          <td class="incl">• Arquitectura moderna con alto rendimiento y SEO técnico.<br>• Integración de <strong>formulario de recepción</strong> vinculada a cuestionario de Facebook.<br>• <strong>Call to Action a WhatsApp</strong>.<br>• Diseño moderno y escalable.</td>
          <td class="price">3,000.00</td>
        </tr>
      </tbody>
    </table>

    <div class="cards">
      <div class="card">
        <h4>Incluye</h4>
        Puesta en producción · Optimizado móviles · Capacitación básica
      </div>
      <div class="card">
        <h4>No incluye</h4>
        Hosting y dominio (se cotizan aparte).
      </div>
    </div>

    <div class="totals">
      <div>
        <p><strong>Plazo estimado:</strong> 2–4 semanas.</p>
        <p>Los precios incluyen desarrollo e implementación. Esta proforma no constituye comprobante de pago.</p>
      </div>
      <div><strong>Opciones:</strong><br>S/ 2,000.00 · S/ 3,000.00</div>
    </div>

    <div class="cta">
      <div>
        <strong>¿Listo para empezar?</strong><br>
        <small>Elige una opción y coordinemos el inicio.</small>
      </div>
      <a id="cta-wsp" href="https://wa.me/51975212132" target="_blank">WhatsApp</a>
    </div>

    <div class="actions">
      <button class="btn" onclick="window.print()">Imprimir / PDF</button>
      <button class="btn btn--primary" id="fill-demo">Rellenar demo</button>
    </div>

    <footer>
      <div>
        © <span id="year"></span> Tato · renato.espinoza.medrano@gmail.com · +51 975 212 132
      </div>
      <div>
        Gracias por considerar a Tato ❤️
      </div>
    </footer>
  </div>

  <script>
    (() => {
      const d = new Date();
      const opts = { year: 'numeric', month: 'long', day: '2-digit' };
      document.getElementById('pf-date').textContent = d.toLocaleDateString('es-PE', opts);
      document.getElementById('year').textContent = d.getFullYear();

      // Fallback si el logo remoto falla
      const logo = document.getElementById('logo');
      logo && logo.addEventListener('error', () => {
        logo.onerror = null;
        const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='140' height='40'><rect width='100%' height='100%' fill='%230f172a'/><text x='50%' y='50%' fill='white' font-family='Arial, Helvetica, sans-serif' font-weight='700' font-size='18' text-anchor='middle' dominant-baseline='middle'>Tato</text></svg>`;
        logo.src = 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
      });
    })();

    document.getElementById('fill-demo').addEventListener('click', () => {
      document.querySelectorAll('[contenteditable]')[0].textContent = 'Comercial Andina SAC';
      document.querySelectorAll('[contenteditable]')[1].textContent = 'compras@comercialandina.pe · +51 987 654 321';
      document.querySelectorAll('[contenteditable]')[2].textContent = '2060xxxxxxx';
      document.getElementById('pf-number').textContent = 'PRO-2025-017';

      const msg = encodeURIComponent('Hola Tato, estoy interesado en la Proforma PRO-2025-017. Quiero avanzar con mi sitio web.');
      const phone = '51975212132';
      document.getElementById('cta-wsp').href = `https://wa.me/${phone}?text=${msg}`;
    });
  </script>
</body>
</html>
